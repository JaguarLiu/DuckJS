(function(c){c([],function(){function b(){this.promises=[];this._promises=[];this._then=function(){}}b.prototype.addPromise=function(b){this.promises.push(b);this._promises.push(b)};b.prototype.resolve=function(b,c){for(var f=this.promises,d=0,g=f.length;d<g;d++)if(f[d]===b){f.splice(d,1);break}c&&(this._promises[c]=b);if(!this.promises.length)this._then.apply(null,[this._promises]),this._promises=[]};b.prototype.then=function(b){this._then=b};return b})})(typeof define!="undefined"?define:typeof module!=
"undefined"?function(c,b){module.exports=b()}:function(c,b){this.Future=b()});(function(c){c(["./future"],function(b){var b=b||window.Future,c="MozAppearance"in document.documentElement.style,l="webkitAppearance"in document.documentElement.style,f=function(d,b,a){if(d)if(d.resolve)d.resolve(b,a);else if(typeof d==="function")d.call(null,b);else if(d.innerHTML)d.innerHTML=this.responseText};return{load:function(d){var g=new b,a=["css","content","script"],c,e,f=a.length,k,i,j;for(c=0;c<f;c++)if(e=a[c],i=d[e])if(j="load"+e.charAt(0).toUpperCase()+e.slice(1),typeof i==="string")g.addPromise(this[j].call(this,
i,g));else if(i.length)for(e=0,k=i.length;e<k;e++)g.addPromise(this[j].call(this,i[e],g));g.then(function(a){if(a.content&&d.contentAppend)d.contentAppend.innerHTML=a.content.responseText;d.callback&&d.callback.apply(null,[d,a])})},loadContent:function(b,c){var a=new XMLHttpRequest;a.onreadystatechange=function(){this.readyState===4&&(this.status>=200&&this.status<300||this.status===304)&&f(c,this,"content")};a.open("GET",b,true);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send();return a},
loadCss:function(b,g){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href=b;if(!l&&!c)a.onload=function(){f(g,a)};else{var h=false,e=function(a){window.setTimeout(function(){if(!h)try{a.sheet.cssRules.length?(h=true,f(g,a)):e(a)}catch(b){b.code===1E3||b.message==="security"||b.message==="denied"?(h=true,f(g,a)):e(a)}},0)};e(a)}document.getElementsByTagName("head")[0].appendChild(a);return a},loadScript:function(b,c){var a=document.createElement("script");a.type="text/javascript";
a.async=true;a.src=b;a.onreadystatechange=a.onload=function(){if(!a.readyState||a.readyState==="loaded"||a.readyState==="complete")f(c,a),a.onload=a.onreadystatechange=null};var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(a,h);return a}}})})(typeof define!="undefined"?define:typeof module!="undefined"?function(c,b){module.exports=b()}:function(c,b){this.Duck=b()});
