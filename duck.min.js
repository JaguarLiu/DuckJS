(function(c){c([],function(){function a(){this.promises=[];this._promises=[];this._then=function(){}}a.prototype.addPromise=function(a){this.promises.push(a);this._promises.push(a)};a.prototype.resolve=function(a,c){for(var f=this.promises,e=0,h=f.length;e<h;e++)if(f[e]===a){f.splice(e,1);break}c&&(this._promises[c]=a);if(!this.promises.length)this._then.apply(null,[this._promises]),this._promises=[]};a.prototype.then=function(a){this._then=a};return a})})(typeof define!="undefined"?define:typeof module!=
"undefined"?function(c,a){module.exports=a()}:function(c,a){this.Future=a()});(function(c){c(["./future"],function(a){var a=a||window.Future,c="MozAppearance"in document.documentElement.style,i="webkitAppearance"in document.documentElement.style,f=function(j,a){var b=new XMLHttpRequest;b.onreadystatechange=function(){this.readyState===4&&(this.status>=200&&this.status<300||this.status===304)&&g(a,this,"content")};b.open("GET",j,true);b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.send();return b},e=function(a,d){var b=document.createElement("script");b.type="text/javascript";
b.async=true;b.src=a;b.onreadystatechange=b.onload=function(){if(!b.readyState||b.readyState==="loaded"||b.readyState==="complete")g(d,b),b.onload=b.onreadystatechange=null};var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);return b},h=function(a,d){var b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href=a;if(!i&&!c)b.onload=function(){g(d,b)};else{var e=false,f=function(b){window.setTimeout(function(){if(!e)try{b.sheet.cssRules.length?(e=true,
g(d,b)):f(b)}catch(a){a.code===1E3||a.message==="security"||a.message==="denied"?(e=true,g(d,b)):f(b)}},0)};f(b)}document.getElementsByTagName("head")[0].appendChild(b);return b},g=function(a,d,b){if(a)if(a.resolve)a.resolve(d,b);else if(typeof a==="function")a.call(null,d);else if(a.innerHTML)a.innerHTML=this.responseText};return{load:function(c){var d=new a;c.css&&d.addPromise(h(c.css,d));c.content&&d.addPromise(f(c.content,d));c.script&&d.addPromise(e(c.script,d));d.then(function(a){if(a.content&&
c.contentAppend)c.contentAppend.innerHTML=a.content.responseText;c.callback&&c.callback.apply(null,[c,a])})},loadContent:f,loadStylesheet:h,loadScript:e}})})(typeof define!="undefined"?define:typeof module!="undefined"?function(c,a){module.exports=a()}:function(c,a){this.Duck=a()});
